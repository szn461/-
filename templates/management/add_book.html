{% extends "management/base.html" %}
{% block title %}添加员工信息{% endblock %}

{% block content %}

    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3 col-sm-10 col-sm-offset-1">
                {% if state == 'success' %}
                    <div class="well">
                        <h2 class="text-success text-center">添加成功</h2>
                    </div>
                {% endif %}
                <form method="POST" role="form" class="form-horizontal">
                    {% csrf_token %}
                    <h1 class="form-signin-heading text-center">添加员工信息</h1>

                    <div class="form-group">
                        <label for="id_name" class="col-md-3 control-label">员工名字：</label>
                        <div class="col-md-9">
                            <input type="text" class="form-control" id="id_name" required name="name" autofocus>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="id_author" class="col-md-3 control-label">所属部门：</label>
                        <div class="col-md-9">
                            <select class="form-control" required name="category">
                                <option value="">请选择部门</option>
                                {% for item in depart_list %}
                                    <option value="{{ item.id }}">{{ item.title }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="id_position" class="col-md-3 control-label">职位：</label>
                            <div class="col-md-9">
                                <select class="form-control" required name="position">
                                    <option value="">请选择职位</option>
                                    {% for position in positions %}
                                        <option value="{{ position.id }}">{{ position.title }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                    </div>


                    <div class="form-group">
                        <label for="id_pubdate" class="col-md-3 control-label">入职时间：</label>
                        <div class="col-md-9">
                            <input type="date" class="form-control" required name="publish_date" id="id_pubdate">
                        </div>
                    </div>




                    <div class="form-group">
                        <label for="id_residence" class="col-md-3 control-label">户口所在地：</label>
                            <div class="col-md-9">
                            <!-- 这里简化处理，实际可能需要级联下拉菜单 -->
                                <select class="form-control" required name="residence">
                                    <option value="">请选择户口所在地</option>
                                    {% for residence in residences %}
                                        <option value="{{ residence.id }}">{{ residence.province }} - {{ residence.city }} - {{ residence.district }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                    </div>

                    <div class="form-group">
                        <label for="id_political_status" class="col-md-3 control-label">政治面貌：</label>
                            <div class="col-md-9">
                                <select class="form-control" required name="political_status">
                                    <option value="">请选择政治面貌</option>
                                    {% for code, name in political_statuses %}
                                        <option value="{{ code }}">{{ name }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                    </div>


                    <div class="form-group">
                        <div class="col-md-4 col-md-offset-4">
                            <button class="btn btn btn-primary btn-block" type="submit">提交</button>
                        </div>
                    </div>


                </form>
            </div>
        </div>
    </div>

{% endblock %}
